@model DoAnWebThiTracNghiem.Areas.Admin.Models.UserDetailViewModel
@{
    ViewData["Title"] = "Details";
    Layout = "~/Areas/Admin/Views/Shared/_layout.cshtml";
    var user = Model.User;
    var role = user.Role?.Name?.ToLower();
}

<div class="mx-auto mt-8 max-w-2xl rounded-xl bg-white p-8 shadow-md">
    <div class="flex flex-col items-center">
        <img class="border-4 mb-4 h-28 w-28 rounded-full border-blue-400 object-cover"
             src="@(string.IsNullOrEmpty(user.AvatarUrl) ? $"https://i.pravatar.cc/150?u={user.Email}" : user.AvatarUrl)"
             alt="@user.FullName" />
        <h2 class="mb-1 text-2xl font-bold text-gray-800">@user.FullName</h2>
        <span class="mb-4 text-sm text-gray-500">@user.Email</span>
    </div>
    <div class="mt-4 grid grid-cols-1 gap-4 md:grid-cols-2">
        <div>
            <label class="block font-medium text-gray-600">Mật khẩu</label>
            <div class="text-gray-800">@user.Password</div>
        </div>
        <div>
            <label class="block font-medium text-gray-600">Số điện thoại</label>
            <div class="text-gray-800">@user.PhoneNumber</div>
        </div>
        <div>
            <label class="block font-medium text-gray-600">Địa chỉ</label>
            <div class="text-gray-800">@user.Address</div>
        </div>
        <div>
            <label class="block font-medium text-gray-600">Ngày tạo</label>
            <div class="text-gray-800">@user.CreatedAt.ToString("dd/MM/yyyy HH:mm")</div>
        </div>
        <div>
            <label class="block font-medium text-gray-600">Ngày cập nhật</label>
            <div class="text-gray-800">@user.UpdatedAt.ToString("dd/MM/yyyy HH:mm")</div>
        </div>
    </div>
    <div class="mt-8 grid grid-cols-2 gap-4 md:grid-cols-4">
        @if (role == "teacher")
        {
            <div class="rounded-lg bg-blue-50 p-4 text-center">
                <div class="text-2xl font-bold text-blue-600">@Model.CreatedClassCount</div>
                <div class="text-sm text-gray-600">Lớp học đã tạo</div>
            </div>
            <div class="rounded-lg bg-green-50 p-4 text-center">
                <div class="text-2xl font-bold text-green-600">@Model.CreatedExamCount</div>
                <div class="text-sm text-gray-600">Bài thi đã tạo</div>
            </div>
            <div class="rounded-lg bg-yellow-50 p-4 text-center">
                <div class="text-2xl font-bold text-yellow-600">@Model.CreatedSubjectCount</div>
                <div class="text-sm text-gray-600">Môn học đã tạo</div>
            </div>
            <div class="rounded-lg bg-purple-50 p-4 text-center">
                <div class="text-2xl font-bold text-purple-600">@Model.CreatedQuestionCount</div>
                <div class="text-sm text-gray-600">Câu hỏi đã tạo</div>
            </div>
        }
        else if (role == "student")
        {
            <div class="rounded-lg bg-blue-50 p-4 text-center">
                <div class="text-2xl font-bold text-blue-600">@Model.JoinedClassCount</div>
                <div class="text-sm text-gray-600">Lớp học đã tham gia</div>
            </div>
            <div class="rounded-lg bg-green-50 p-4 text-center">
                <div class="text-2xl font-bold text-green-600">@Model.TakenExamCount</div>
                <div class="text-sm text-gray-600">Bài thi đã làm</div>
            </div>
        }
        
    </div>
</div>
